<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">

     <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/stylesheets/login.css">

    <script src="https://accounts.google.com/gsi/client" async defer></script>

    <title>Login | MyPastry</title>
</head>

<body>
    <div class="container-fluid ">
        <div class="row d-flex align-content-center flex-wrap ">
            <div class="col-md-5  login ">
                <div>
                    <a href="https://mypastry.onrender.com/"> <img class="img-fluid logo mt-3" src="/images/logo-mark.svg" width="30%" alt=""></a>
                </div>

                <div class="text-intro ">
                    <h1 class="text-gradient text-center  ">Bem vindo de volta.</h1>
                    <p class="text-center fs-4 fw-light"> Sentimos a sua falta por aqui!</p>
                </div>
               
                <footer class=" footer-account">
                    <div class="container-md">
                        <div class="row">
            
                            <div class="col-md-6">
                                <span class="copyright">
                                    Copyright &copy; MyPastry 2024.<br>
                                    Todos os direitos reservados.
                                </span>
                            </div>
                
                            <div class="col-md-6">
                                <!--Ícones com links para as redes sociais-->
                                <ul class="list-inline social-buttons text-center float-end">
                                        <li class="list-inline-item">
                                            <a href="#"><i class="fab fa-instagram"></i></a>
                                        </li>
                                        <li class="list-inline-item">
                                            <a href="#"><i class="fab fa-facebook-f"></i></a>
                                        </li>
                                        <li class="list-inline-item">
                                            <a href="#"><i class="fab fa-linkedin-in"></i></a>
                                        </li>
                                        <li class="list-inline-item">
                                            <a href="#"><i class="fab fa-whatsapp"></i></a>
                                        </li>
                                </ul>
                            </div>
                        </div>
                    </div>
            
                </footer>
                
            </div>

            <div class="col-md-7 my-5 ">
                <div class=" text-end mb-4 text "> Não tem uma conta? <a href="https://mypastry.onrender.com/register">Registe-se agora.</a></div>
                <div class=" pt-4 ">
                    <div class="fs-4 fw-bold my-4">Efetue login na App <span class="text-gradient "> MyPastry</span>
                    </div>

                    <!--
                        <a class="btn btn-default btn-lg py-2 px-5 rounded-3 text" href="https://mypastry.onrender.com/auth/google">Entrar com uma conta Google</a>
                    -->    

                    <div id="g_id_onload" 
                    data-client_id="628742861226-ul89fiklsps4amtml44koa8ta8ifjms8.apps.googleusercontent.com" 
                    data-callback="handleCredentialResponse">
                    </div>
                    <div class="g_id_signin" data-type="standard"></div>


                    <div class="divider-box mb-4">
                        <div class="left-divider"></div>
                        <div class="divider-text"><span class="text-gradient fs-5">Ou</span></div>
                        <div class="right-divider"></div>
                    </div>


                    <div class="text"> Nome de utilizador ou email</div>
                    <input type="text" class="form-control mb-4 text" placeholder="" aria-describedby=" button-addon1">

                    <div class=" d-flex justify-content-between text"> Senha <a href="align-item-start">Esqueceu a sua
                            password?</a> </div>
                    <input type="text" class="form-control mb-4" placeholder="" aria-describedby=" button-addon1">
                    <a class="btn btn-default py-2 px-4 rounded-3 text" href="">Entrar</a>

                </div>

            </div>
        </div>
    </div>

    <script>
        function handleCredentialResponse(response) {
        // Enviar o token para o servidor
        fetch('https://mypastry.onrender.com/auth/google/new', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ token: response.credential })

        }).then(async response => {
            if(response.ok) {
                const data = await response.json()
                console.log(data);
                location.href('https://mypastry.onrender.com');
            }
            else {
                throw new Error(err);
            }
        })
    }
    </script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    

</body>

</html>